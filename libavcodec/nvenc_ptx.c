/*
 * Copyright (c) 2015, NVIDIA CORPORATION. All rights reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */

#if _WIN32 || _WIN64
#if _WIN64
#define ENVIRONMENT64
#else
#define ENVIRONMENT32
#endif
#endif
// Check GCC
#if __GNUC__
#if __x86_64__ || __ppc64__
#define ENVIRONMENT64
#else
#define ENVIRONMENT32
#endif
#endif
#ifdef ENVIRONMENT32
const char color_ptx[] = \
	"//\n"
	"// Generated by NVIDIA NVVM Compiler\n"
	"//\n"
	"// Compiler Build ID: CL-19830389\n"
	"// Cuda compilation tools, release 8.0, V8.0.0\n"
	"// Based on LLVM 3.4svn\n"
	"//\n"
	"\n"
	".version 4.3\n"
	".target sm_30\n"
	".address_size 32\n"
	"\n"
	"// .globl	interleaveChroma\n"
	"\n"
	".visible .entry interleaveChroma(\n"
	".param .u32 interleaveChroma_param_0,\n"
	".param .u32 interleaveChroma_param_1,\n"
	".param .u32 interleaveChroma_param_2,\n"
	".param .u32 interleaveChroma_param_3,\n"
	".param .u32 interleaveChroma_param_4,\n"
	".param .u32 interleaveChroma_param_5,\n"
	".param .u32 interleaveChroma_param_6\n"
	")\n"
	"{\n"
	".reg .pred 	%p<5>;\n"
	".reg .b32 	%r<57>;\n"
	"\n"
	"\n"
	"ld.param.u32 	%r15, [interleaveChroma_param_0];\n"
	"ld.param.u32 	%r16, [interleaveChroma_param_1];\n"
	"ld.param.u32 	%r17, [interleaveChroma_param_2];\n"
	"ld.param.u32 	%r18, [interleaveChroma_param_3];\n"
	"ld.param.u32 	%r21, [interleaveChroma_param_4];\n"
	"ld.param.u32 	%r19, [interleaveChroma_param_5];\n"
	"ld.param.u32 	%r20, [interleaveChroma_param_6];\n"
	"shr.s32 	%r1, %r21, 1;\n"
	"mov.u32 	%r55, %ctaid.x;\n"
	"setp.ge.s32	%p1, %r55, %r1;\n"
	"@%p1 bra 	BB0_6;\n"
	"\n"
	"cvta.to.global.u32 	%r3, %r17;\n"
	"cvta.to.global.u32 	%r4, %r16;\n"
	"cvta.to.global.u32 	%r5, %r15;\n"
	"mov.u32 	%r6, %tid.x;\n"
	"shr.s32 	%r7, %r18, 3;\n"
	"mov.u32 	%r8, %ntid.x;\n"
	"\n"
	"BB0_2:\n"
	"setp.ge.s32	%p2, %r6, %r7;\n"
	"@%p2 bra 	BB0_5;\n"
	"\n"
	"mul.lo.s32 	%r22, %r55, %r19;\n"
	"mul.lo.s32 	%r23, %r55, %r20;\n"
	"shr.s32 	%r10, %r23, 2;\n"
	"shr.s32 	%r24, %r22, 2;\n"
	"shr.u32 	%r11, %r24, 1;\n"
	"mov.u32 	%r56, %r6;\n"
	"\n"
	"BB0_4:\n"
	"mov.u32 	%r12, %r56;\n"
	"add.s32 	%r25, %r12, %r11;\n"
	"shl.b32 	%r26, %r25, 2;\n"
	"add.s32 	%r27, %r5, %r26;\n"
	"add.s32 	%r28, %r4, %r26;\n"
	"ld.global.u32 	%r29, [%r28];\n"
	"and.b32  	%r30, %r29, 65280;\n"
	"shl.b32 	%r31, %r30, 16;\n"
	"ld.global.u32 	%r32, [%r27];\n"
	"shl.b32 	%r33, %r32, 8;\n"
	"and.b32  	%r34, %r33, 16711680;\n"
	"shl.b32 	%r35, %r29, 8;\n"
	"and.b32  	%r36, %r35, 65280;\n"
	"and.b32  	%r37, %r32, 255;\n"
	"or.b32  	%r38, %r34, %r37;\n"
	"or.b32  	%r39, %r38, %r31;\n"
	"or.b32  	%r40, %r39, %r36;\n"
	"shl.b32 	%r41, %r12, 1;\n"
	"add.s32 	%r42, %r41, %r10;\n"
	"shl.b32 	%r43, %r42, 2;\n"
	"add.s32 	%r44, %r3, %r43;\n"
	"st.global.u32 	[%r44], %r40;\n"
	"and.b32  	%r45, %r29, -16777216;\n"
	"and.b32  	%r46, %r32, -16777216;\n"
	"shr.u32 	%r47, %r46, 8;\n"
	"or.b32  	%r48, %r45, %r47;\n"
	"and.b32  	%r49, %r29, 16711680;\n"
	"shr.u32 	%r50, %r49, 8;\n"
	"bfe.u32 	%r51, %r32, 16, 8;\n"
	"or.b32  	%r52, %r48, %r51;\n"
	"or.b32  	%r53, %r52, %r50;\n"
	"st.global.u32 	[%r44+4], %r53;\n"
	"add.s32 	%r13, %r8, %r12;\n"
	"setp.lt.s32	%p3, %r13, %r7;\n"
	"mov.u32 	%r56, %r13;\n"
	"@%p3 bra 	BB0_4;\n"
	"\n"
	"BB0_5:\n"
	"mov.u32 	%r54, %nctaid.x;\n"
	"add.s32 	%r55, %r54, %r55;\n"
	"setp.lt.s32	%p4, %r55, %r1;\n"
	"@%p4 bra 	BB0_2;\n"
	"\n"
	"BB0_6:\n"
	"ret;\n"
	"}\n"
	"\n"
	"\n"
;
#elif defined ENVIRONMENT64
const char color_ptx[] = \
	"//\n"
	"// Generated by NVIDIA NVVM Compiler\n"
	"//\n"
	"// Compiler Build ID: CL-19830389\n"
	"// Cuda compilation tools, release 8.0, V8.0.0\n"
	"// Based on LLVM 3.4svn\n"
	"//\n"
	"\n"
	".version 4.3\n"
	".target sm_30\n"
	".address_size 64\n"
	"\n"
	"// .globl	interleaveChroma\n"
	"\n"
	".visible .entry interleaveChroma(\n"
	".param .u64 interleaveChroma_param_0,\n"
	".param .u64 interleaveChroma_param_1,\n"
	".param .u64 interleaveChroma_param_2,\n"
	".param .u32 interleaveChroma_param_3,\n"
	".param .u32 interleaveChroma_param_4,\n"
	".param .u32 interleaveChroma_param_5,\n"
	".param .u32 interleaveChroma_param_6\n"
	")\n"
	"{\n"
	".reg .pred 	%p<5>;\n"
	".reg .b32 	%r<47>;\n"
	".reg .b64 	%rd<14>;\n"
	"\n"
	"\n"
	"ld.param.u64 	%rd4, [interleaveChroma_param_0];\n"
	"ld.param.u64 	%rd5, [interleaveChroma_param_1];\n"
	"ld.param.u64 	%rd6, [interleaveChroma_param_2];\n"
	"ld.param.u32 	%r12, [interleaveChroma_param_3];\n"
	"ld.param.u32 	%r15, [interleaveChroma_param_4];\n"
	"ld.param.u32 	%r13, [interleaveChroma_param_5];\n"
	"ld.param.u32 	%r14, [interleaveChroma_param_6];\n"
	"shr.s32 	%r1, %r15, 1;\n"
	"mov.u32 	%r45, %ctaid.x;\n"
	"setp.ge.s32	%p1, %r45, %r1;\n"
	"@%p1 bra 	BB0_6;\n"
	"\n"
	"cvta.to.global.u64 	%rd1, %rd6;\n"
	"cvta.to.global.u64 	%rd2, %rd5;\n"
	"cvta.to.global.u64 	%rd3, %rd4;\n"
	"mov.u32 	%r3, %tid.x;\n"
	"shr.s32 	%r4, %r12, 3;\n"
	"mov.u32 	%r5, %ntid.x;\n"
	"\n"
	"BB0_2:\n"
	"setp.ge.s32	%p2, %r3, %r4;\n"
	"@%p2 bra 	BB0_5;\n"
	"\n"
	"mul.lo.s32 	%r16, %r45, %r13;\n"
	"mul.lo.s32 	%r17, %r45, %r14;\n"
	"shr.s32 	%r7, %r17, 2;\n"
	"shr.s32 	%r18, %r16, 2;\n"
	"shr.u32 	%r8, %r18, 1;\n"
	"mov.u32 	%r46, %r3;\n"
	"\n"
	"BB0_4:\n"
	"mov.u32 	%r9, %r46;\n"
	"add.s32 	%r19, %r9, %r8;\n"
	"mul.wide.u32 	%rd7, %r19, 4;\n"
	"add.s64 	%rd8, %rd3, %rd7;\n"
	"add.s64 	%rd9, %rd2, %rd7;\n"
	"ld.global.u32 	%r20, [%rd9];\n"
	"and.b32  	%r21, %r20, 65280;\n"
	"shl.b32 	%r22, %r21, 16;\n"
	"ld.global.u32 	%r23, [%rd8];\n"
	"shl.b32 	%r24, %r23, 8;\n"
	"and.b32  	%r25, %r24, 16711680;\n"
	"shl.b32 	%r26, %r20, 8;\n"
	"and.b32  	%r27, %r26, 65280;\n"
	"and.b32  	%r28, %r23, 255;\n"
	"or.b32  	%r29, %r25, %r28;\n"
	"or.b32  	%r30, %r29, %r22;\n"
	"or.b32  	%r31, %r30, %r27;\n"
	"shl.b32 	%r32, %r9, 1;\n"
	"add.s32 	%r33, %r32, %r7;\n"
	"mul.wide.u32 	%rd10, %r33, 4;\n"
	"add.s64 	%rd11, %rd1, %rd10;\n"
	"st.global.u32 	[%rd11], %r31;\n"
	"and.b32  	%r34, %r20, -16777216;\n"
	"and.b32  	%r35, %r23, -16777216;\n"
	"shr.u32 	%r36, %r35, 8;\n"
	"or.b32  	%r37, %r34, %r36;\n"
	"and.b32  	%r38, %r20, 16711680;\n"
	"shr.u32 	%r39, %r38, 8;\n"
	"bfe.u32 	%r40, %r23, 16, 8;\n"
	"or.b32  	%r41, %r37, %r40;\n"
	"or.b32  	%r42, %r41, %r39;\n"
	"add.s32 	%r43, %r33, 1;\n"
	"mul.wide.u32 	%rd12, %r43, 4;\n"
	"add.s64 	%rd13, %rd1, %rd12;\n"
	"st.global.u32 	[%rd13], %r42;\n"
	"add.s32 	%r10, %r5, %r9;\n"
	"setp.lt.s32	%p3, %r10, %r4;\n"
	"mov.u32 	%r46, %r10;\n"
	"@%p3 bra 	BB0_4;\n"
	"\n"
	"BB0_5:\n"
	"mov.u32 	%r44, %nctaid.x;\n"
	"add.s32 	%r45, %r44, %r45;\n"
	"setp.lt.s32	%p4, %r45, %r1;\n"
	"@%p4 bra 	BB0_2;\n"
	"\n"
	"BB0_6:\n"
	"ret;\n"
	"}\n"
	"\n"
	"\n"
;
#endif
